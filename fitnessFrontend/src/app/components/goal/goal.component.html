<div>
  <div nz-row>
    <h1 nz-card-grid [ngStyle]="gridStyle">Metas</h1>
  </div>
  <div nz-row>
    <div nz-col nzFlex="2">
      <nz-card
        nzType="inner"
        style="margin-top: 16px"
        nzTitle="Adicionar nova meta"
      >
        <form
          nz-form
          [formGroup]="goalForm"
          class="custom-form"
          (ngSubmit)="submitForm()"
        >
          <nz-form-item>
            <nz-form-control>
              <textarea
                nz-input
                placeholder="Insira a descrição"
                formControlName="description"
                [nzAutosize]="{ minRows: 2, maxRows: 6 }"
              ></textarea>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-control nzErrorTip="Insira a data de início">
              <nz-date-picker
                style="width: 100%"
                formControlName="startDate"
              ></nz-date-picker>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-control nzErrorTip="Insira a data final">
              <nz-date-picker
                style="width: 100%"
                formControlName="endDate"
              ></nz-date-picker>
            </nz-form-control>
          </nz-form-item>

          <button
            nz-button
            nzType="primary"
            nzBlock
            class="w-100"
            [disabled]="goalForm.invalid"
          >
            Adicionar meta
          </button>
        </form>
      </nz-card>
    </div>
    <div nz-col nzFlex="3" style="margin-left: 20px">
      <nz-card
        nzType="inner"
        style="margin-top: 16px"
        nzTitle="Histórico de metas"
      >
        <div nz-card-grid style="width: 100%" *ngFor="let goal of goals">
          <div nz-col nzSpan="30">
            Descrição: <strong>{{ goal.description }}</strong> - Data de início:
            <strong>{{ goal.startDate | date }}</strong> - Data final:
            <strong>{{ goal.endDate | date }}</strong> - Concluída:
            <strong>{{ goal.achieved }}</strong>

            <span
              *ngIf="!goal.achieved"
              (click)="updateStatus(goal.id)"
              nz-icon
              [nzType]="'check-circle'"
              [nzTheme]="'twotone'"
              [nzTwotoneColor]="'#52c41a'"
              style="margin-left: 15px"
            ></span>
          </div>
        </div>
      </nz-card>
    </div>
  </div>
</div>
